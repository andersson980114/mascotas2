{"ast":null,"code":"import { defineStore } from 'pinia';\nimport { ref } from 'vue';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nexport const useUserStore = defineStore('user', () => {\n  //variables\n  const baseUrl = 'http://localhost:5000/api/users/v1';\n  let users = ref([]);\n  let user = ref({});\n  let error = false;\n  /**\r\n   /findall\r\n   /find/:id\r\n   /new\r\n   /del/:id\r\n   /update\r\n   */\n  //funciones\n  const addUser = (name, email, tel) => {\n    console.log(name, email, tel);\n    const headers = {\n      \"Authorization\": \"Bearer \"\n    };\n    axios.post(baseUrl + '/new', {\n      name,\n      email,\n      tel\n    }, {\n      headers\n    }).then(res => {\n      console.log(res.data);\n      getUsers();\n      Swal.fire('Almacenado', 'Usuario almacenado exitosamente', 'success');\n    }).catch(e => {\n      console.log(\"error api\", e);\n      Swal.fire('Error de registro', 'Posiblemente el correo ya esté registrado', 'warning');\n    });\n  };\n  const getUsers = () => {\n    axios.get(baseUrl + \"/findall\").then(res => {\n      //console.log(res.data) \n      users.value = res.data;\n      console.log(users.value);\n      error = false;\n    }).catch(e => {\n      console.log(e);\n      error = true;\n    });\n  };\n\n  //returns\n  return {\n    user,\n    users,\n    addUser,\n    getUsers\n  };\n});","map":{"version":3,"names":["defineStore","ref","axios","Swal","useUserStore","baseUrl","users","user","error","addUser","name","email","tel","console","log","headers","post","then","res","data","getUsers","fire","catch","e","get","value"],"sources":["C:/Users/Andersson/Desktop/semillero/mascotas2/frontend/mascotas/src/store/userApi.js"],"sourcesContent":["import { defineStore } from 'pinia'\r\nimport {ref} from 'vue'\r\nimport axios from 'axios'  \r\nimport Swal from 'sweetalert2'\r\n\r\nexport  const useUserStore = defineStore('user', ()=>{\r\n        //variables\r\n        const baseUrl = 'http://localhost:5000/api/users/v1'\r\n        let users = ref([])\r\n        let user = ref({}) \r\n        let error = false\r\n        /**\r\n         /findall\r\n         /find/:id\r\n         /new\r\n         /del/:id\r\n         /update\r\n         */\r\n        //funciones\r\n        const addUser = (name, email, tel ) =>{\r\n            console.log (name, email, tel )\r\n            const headers = { \"Authorization\": \"Bearer \"}; \r\n            axios.post(baseUrl+'/new', {name, email, tel }, { headers })\r\n                .then(res => {  \r\n                    console.log(res.data)\r\n                    getUsers()\r\n                    Swal.fire(\r\n                        'Almacenado',\r\n                        'Usuario almacenado exitosamente',\r\n                        'success'\r\n                        )\r\n                   })\r\n                .catch(e => { \r\n                        console.log(\"error api\", e)\r\n                        Swal.fire(\r\n                            'Error de registro',\r\n                            'Posiblemente el correo ya esté registrado',\r\n                            'warning'\r\n                        )\r\n                    } \r\n                ) \r\n        }\r\n\r\n        const getUsers = () => {\r\n            axios.get(baseUrl+\"/findall\")\r\n                .then(res => {\r\n                    //console.log(res.data) \r\n                    users.value = res.data\r\n                    console.log(users.value)\r\n                    error = false\r\n                }).catch( e => { \r\n                    console.log(e)\r\n                    error = true\r\n                }) \r\n        }\r\n\r\n        //returns\r\n        return{\r\n            user,\r\n            users, \r\n            addUser,\r\n            getUsers\r\n        }\r\n    }\r\n)\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAAQC,GAAG,QAAO,KAAK;AACvB,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,IAAI,MAAM,aAAa;AAE9B,OAAQ,MAAMC,YAAY,GAAGJ,WAAW,CAAC,MAAM,EAAE,MAAI;EAC7C;EACA,MAAMK,OAAO,GAAG,oCAAoC;EACpD,IAAIC,KAAK,GAAGL,GAAG,CAAC,EAAE,CAAC;EACnB,IAAIM,IAAI,GAAGN,GAAG,CAAC,CAAC,CAAC,CAAC;EAClB,IAAIO,KAAK,GAAG,KAAK;EACjB;AACR;AACA;AACA;AACA;AACA;AACA;EACQ;EACA,MAAMC,OAAO,GAAGA,CAACC,IAAI,EAAEC,KAAK,EAAEC,GAAG,KAAK;IAClCC,OAAO,CAACC,GAAG,CAAEJ,IAAI,EAAEC,KAAK,EAAEC,GAAG,CAAE;IAC/B,MAAMG,OAAO,GAAG;MAAE,eAAe,EAAE;IAAS,CAAC;IAC7Cb,KAAK,CAACc,IAAI,CAACX,OAAO,GAAC,MAAM,EAAE;MAACK,IAAI;MAAEC,KAAK;MAAEC;IAAI,CAAC,EAAE;MAAEG;IAAQ,CAAC,CAAC,CACvDE,IAAI,CAACC,GAAG,IAAI;MACTL,OAAO,CAACC,GAAG,CAACI,GAAG,CAACC,IAAI,CAAC;MACrBC,QAAQ,EAAE;MACVjB,IAAI,CAACkB,IAAI,CACL,YAAY,EACZ,iCAAiC,EACjC,SAAS,CACR;IACN,CAAC,CAAC,CACJC,KAAK,CAACC,CAAC,IAAI;MACJV,OAAO,CAACC,GAAG,CAAC,WAAW,EAAES,CAAC,CAAC;MAC3BpB,IAAI,CAACkB,IAAI,CACL,mBAAmB,EACnB,2CAA2C,EAC3C,SAAS,CACZ;IACL,CAAC,CACJ;EACT,CAAC;EAED,MAAMD,QAAQ,GAAGA,CAAA,KAAM;IACnBlB,KAAK,CAACsB,GAAG,CAACnB,OAAO,GAAC,UAAU,CAAC,CACxBY,IAAI,CAACC,GAAG,IAAI;MACT;MACAZ,KAAK,CAACmB,KAAK,GAAGP,GAAG,CAACC,IAAI;MACtBN,OAAO,CAACC,GAAG,CAACR,KAAK,CAACmB,KAAK,CAAC;MACxBjB,KAAK,GAAG,KAAK;IACjB,CAAC,CAAC,CAACc,KAAK,CAAEC,CAAC,IAAI;MACXV,OAAO,CAACC,GAAG,CAACS,CAAC,CAAC;MACdf,KAAK,GAAG,IAAI;IAChB,CAAC,CAAC;EACV,CAAC;;EAED;EACA,OAAM;IACFD,IAAI;IACJD,KAAK;IACLG,OAAO;IACPW;EACJ,CAAC;AACL,CAAC,CACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}