{"ast":null,"code":"import { defineStore } from 'pinia';\nimport { ref } from 'vue';\nimport axios from 'axios';\nexport const useUserStore = defineStore('user', () => {\n  //variables\n  const baseUrl = 'http://localhost:5000/api/users/v1';\n  let users = ref([]);\n  let user = ref({});\n  let error = ref(false);\n  /**\r\n   /findall\r\n   /find/:id\r\n   /new\r\n   /del/:id\r\n   /update\r\n   */\n  //funciones\n  const addUser = (name, email, tel) => {\n    console.log(name, email, tel);\n    const headers = {\n      \"Authorization\": \"Bearer \"\n    };\n    axios.post(baseUrl + '/new', {\n      name,\n      email,\n      tel\n    }, {\n      headers\n    }).then(res => {\n      getUsers();\n    }).catch(e => {\n      error = true;\n      console.log(e);\n    });\n  };\n  const getUsers = () => {\n    axios.get(baseUrl + \"/findall\").then(res => {\n      //console.log(res.data)\n      users.value = res.data;\n      console.log(users.value);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  //returns\n  return {\n    user,\n    users,\n    addUser,\n    getUsers\n  };\n});","map":{"version":3,"names":["defineStore","ref","axios","useUserStore","baseUrl","users","user","error","addUser","name","email","tel","console","log","headers","post","then","res","getUsers","catch","e","get","value","data"],"sources":["C:/Users/Andersson/Desktop/semillero/mascotas2/frontend/mascotas/src/store/userApi.js"],"sourcesContent":["import { defineStore } from 'pinia'\r\nimport {ref} from 'vue'\r\nimport axios from 'axios' \r\nexport  const useUserStore = defineStore('user', ()=>{\r\n        //variables\r\n        const baseUrl = 'http://localhost:5000/api/users/v1'\r\n        let users = ref([])\r\n        let user = ref({})\r\n        let error = ref(false)\r\n        /**\r\n         /findall\r\n         /find/:id\r\n         /new\r\n         /del/:id\r\n         /update\r\n         */\r\n        //funciones\r\n        const addUser = (name, email, tel ) =>{\r\n            console.log (name, email, tel )\r\n            const headers = { \"Authorization\": \"Bearer \"}; \r\n            axios.post(baseUrl+'/new', {name, email, tel }, { headers })\r\n                .then(res => {\r\n                    getUsers()})\r\n                .catch(e => {\r\n                        error = true\r\n                        console.log(e)\r\n                    } \r\n                )\r\n        }\r\n\r\n        const getUsers = () => {\r\n            axios.get(baseUrl+\"/findall\")\r\n                .then(res => {\r\n                    //console.log(res.data)\r\n                    users.value = res.data\r\n                    console.log(users.value)\r\n                }).catch( e => {\r\n                    console.log(e)\r\n                })\r\n        }\r\n\r\n        //returns\r\n        return{\r\n            user,\r\n            users, \r\n            addUser,\r\n            getUsers\r\n        }\r\n    }\r\n)\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAAQC,GAAG,QAAO,KAAK;AACvB,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAQ,MAAMC,YAAY,GAAGH,WAAW,CAAC,MAAM,EAAE,MAAI;EAC7C;EACA,MAAMI,OAAO,GAAG,oCAAoC;EACpD,IAAIC,KAAK,GAAGJ,GAAG,CAAC,EAAE,CAAC;EACnB,IAAIK,IAAI,GAAGL,GAAG,CAAC,CAAC,CAAC,CAAC;EAClB,IAAIM,KAAK,GAAGN,GAAG,CAAC,KAAK,CAAC;EACtB;AACR;AACA;AACA;AACA;AACA;AACA;EACQ;EACA,MAAMO,OAAO,GAAGA,CAACC,IAAI,EAAEC,KAAK,EAAEC,GAAG,KAAK;IAClCC,OAAO,CAACC,GAAG,CAAEJ,IAAI,EAAEC,KAAK,EAAEC,GAAG,CAAE;IAC/B,MAAMG,OAAO,GAAG;MAAE,eAAe,EAAE;IAAS,CAAC;IAC7CZ,KAAK,CAACa,IAAI,CAACX,OAAO,GAAC,MAAM,EAAE;MAACK,IAAI;MAAEC,KAAK;MAAEC;IAAI,CAAC,EAAE;MAAEG;IAAQ,CAAC,CAAC,CACvDE,IAAI,CAACC,GAAG,IAAI;MACTC,QAAQ,EAAE;IAAA,CAAC,CAAC,CACfC,KAAK,CAACC,CAAC,IAAI;MACJb,KAAK,GAAG,IAAI;MACZK,OAAO,CAACC,GAAG,CAACO,CAAC,CAAC;IAClB,CAAC,CACJ;EACT,CAAC;EAED,MAAMF,QAAQ,GAAGA,CAAA,KAAM;IACnBhB,KAAK,CAACmB,GAAG,CAACjB,OAAO,GAAC,UAAU,CAAC,CACxBY,IAAI,CAACC,GAAG,IAAI;MACT;MACAZ,KAAK,CAACiB,KAAK,GAAGL,GAAG,CAACM,IAAI;MACtBX,OAAO,CAACC,GAAG,CAACR,KAAK,CAACiB,KAAK,CAAC;IAC5B,CAAC,CAAC,CAACH,KAAK,CAAEC,CAAC,IAAI;MACXR,OAAO,CAACC,GAAG,CAACO,CAAC,CAAC;IAClB,CAAC,CAAC;EACV,CAAC;;EAED;EACA,OAAM;IACFd,IAAI;IACJD,KAAK;IACLG,OAAO;IACPU;EACJ,CAAC;AACL,CAAC,CACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}