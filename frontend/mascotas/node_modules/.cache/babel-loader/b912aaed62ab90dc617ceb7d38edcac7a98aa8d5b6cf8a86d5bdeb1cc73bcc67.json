{"ast":null,"code":"import { defineStore } from 'pinia';\nimport { ref } from 'vue';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nexport const usePetApistore = defineStore('petApi', () => {\n  //variables\n  const baseUrl = 'http://localhost:5000/api/v1/pet';\n  const pets = ref([]);\n  const raceUrl = 'http://localhost:5000api/v1/race';\n  const races = ref([]);\n  const pet = ref({});\n\n  //logica\n  const addPet = (name, description, race, species, color, gender, image, age) => {\n    //console.log(\"node \" ,name, description, race, species, color, gender, image, age, false)\n    const isAdopted = false;\n    const headers = {\n      \"Authorization\": \"Bearer \"\n    };\n    axios.post(baseUrl + '/add', {\n      name,\n      description,\n      race,\n      species,\n      color,\n      gender,\n      image,\n      age,\n      isAdopted\n    }, {\n      headers\n    }).then(res => {\n      Swal.fire('Almacenado', 'Mascota almacenada exitosamente', 'success');\n      getPets();\n    }).catch(e => {\n      Swal.fire('Error de registro', 'Verifica los datos de registro', 'warning');\n      console.log(e);\n    });\n  };\n  const getPets = () => {\n    axios.get(baseUrl + '/findallpets').then(res => {\n      pets.value = res.data.pets;\n      //console.log(pets.value)\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n  const addRace = (race, species) => {\n    const headers = {\n      \"Authorization\": \"Bearer \"\n    };\n    axios.post(raceUrl + '/add', {\n      race,\n      species\n    }, {\n      headers\n    }).then(res => {\n      Swal.fire('Almacenado', 'Raza almacenada exitosamente', 'success');\n      getRaces();\n    }).catch(e => {\n      Swal.fire('Error de registro', 'Verifica los datos de Raza', 'warning');\n      console.log(e);\n    });\n  };\n  const getRaces = () => {\n    axios.get(raceUrl + '/findallpets').then(res => {\n      races.value = res.data;\n      console.log(pets.value);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n  const adoptPet = () => {};\n\n  //returns\n  return {\n    pets,\n    pet,\n    races,\n    addPet,\n    getPets,\n    adoptPet,\n    addRace,\n    getRaces\n  };\n});","map":{"version":3,"names":["defineStore","ref","axios","Swal","usePetApistore","baseUrl","pets","raceUrl","races","pet","addPet","name","description","race","species","color","gender","image","age","isAdopted","headers","post","then","res","fire","getPets","catch","e","console","log","get","value","data","addRace","getRaces","adoptPet"],"sources":["C:/Users/Andersson/Desktop/semillero/mascotas2/frontend/mascotas/src/store/petsApi.js"],"sourcesContent":["\r\nimport { defineStore } from 'pinia'\r\nimport {ref} from 'vue'\r\nimport axios from 'axios'\r\nimport Swal from 'sweetalert2'\r\n\r\nexport  const usePetApistore = defineStore('petApi', ()=>{\r\n        //variables\r\n        const baseUrl = 'http://localhost:5000/api/v1/pet'\r\n        const pets = ref([])\r\n        const raceUrl = 'http://localhost:5000api/v1/race'\r\n        const races = ref([])\r\n        const pet = ref({})\r\n\r\n\r\n        //logica\r\n        const addPet = (name, description, race, species, color, gender, image, age ) =>{\r\n            //console.log(\"node \" ,name, description, race, species, color, gender, image, age, false)\r\n            const isAdopted= false\r\n            const headers = { \"Authorization\": \"Bearer \"}; \r\n            axios.post(baseUrl+'/add', {name, description, race, species, color, gender, image, age, isAdopted}, { headers })\r\n                .then(res => {\r\n                    Swal.fire(\r\n                        'Almacenado',\r\n                        'Mascota almacenada exitosamente',\r\n                        'success'\r\n                        )\r\n                    getPets()}\r\n                    )\r\n                .catch(e => {\r\n                    Swal.fire(\r\n                        'Error de registro',\r\n                        'Verifica los datos de registro',\r\n                        'warning'\r\n                    )\r\n                    console.log(e)\r\n                })\r\n        }\r\n\r\n        const getPets = () => {\r\n            axios.get(baseUrl+'/findallpets')\r\n                .then(res => {\r\n                    pets.value = res.data.pets \r\n                    //console.log(pets.value)\r\n                })\r\n                .catch( e => {\r\n                        console.log(e)\r\n                    }\r\n                ) \r\n        }\r\n\r\n        const addRace = (race, species) => {\r\n            const headers = { \"Authorization\": \"Bearer \"}; \r\n            axios.post(raceUrl+'/add', {race, species}, { headers })\r\n                .then(res => {\r\n                    Swal.fire(\r\n                        'Almacenado',\r\n                        'Raza almacenada exitosamente',\r\n                        'success'\r\n                        )\r\n                        getRaces()}\r\n                    )\r\n                .catch(e => {\r\n                    Swal.fire(\r\n                        'Error de registro',\r\n                        'Verifica los datos de Raza',\r\n                        'warning'\r\n                    )\r\n                    console.log(e)\r\n                })\r\n        }\r\n\r\n        const getRaces = () =>{\r\n            axios.get(raceUrl+'/findallpets')\r\n                .then(res => {\r\n                    races.value = res.data \r\n                    console.log(pets.value)\r\n                })\r\n                .catch( e => {\r\n                        console.log(e)\r\n                    }\r\n                ) \r\n        }\r\n\r\n        const adoptPet = () => {\r\n\r\n        }\r\n\r\n\r\n\r\n        //returns\r\n        return{\r\n            pets,\r\n            pet,\r\n            races,\r\n            addPet,\r\n            getPets,\r\n            adoptPet,\r\n            addRace,\r\n            getRaces,\r\n        }\r\n    }\r\n)"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}