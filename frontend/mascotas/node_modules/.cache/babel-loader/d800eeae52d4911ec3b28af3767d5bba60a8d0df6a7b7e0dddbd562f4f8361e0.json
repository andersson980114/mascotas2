{"ast":null,"code":"import Swal from 'sweetalert2';\nimport ModalFotos from '@/components/ModalFotos.vue';\nimport { useAppstore } from '@/store/index.js';\nimport { usePetApistore } from '@/store/petsApi.js';\nimport { storeToRefs } from 'pinia';\nexport default {\n  __name: 'AdopcionView',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const usePetApi = usePetApistore();\n    let {\n      addPet\n    } = usePetApi;\n    const useApp = useAppstore();\n    let {\n      showModal,\n      getDogs,\n      getCats\n    } = useApp;\n    let {\n      modal,\n      foto,\n      fotos\n    } = storeToRefs(useApp);\n    let mensaje = \"mensaje error\";\n    let error = false;\n    //datos de la mascota \n    let nombre = undefined;\n    let raza = undefined;\n    let color = undefined;\n    let especie = undefined;\n    let edad = undefined;\n    let genero = undefined;\n    let descripcion = undefined;\n    const openModal = () => {\n      let timerInterval;\n      if (especie != null) {\n        Swal.fire({\n          title: 'Accediendo a las fotos',\n          html: 'Cargando <b></b> fotos',\n          timer: 2000,\n          timerProgressBar: true,\n          didOpen: () => {\n            Swal.showLoading();\n            const b = Swal.getHtmlContainer().querySelector('b');\n            if (especie === 'perro') {\n              error = false;\n              getDogs();\n            } else if (especie === 'gato') {\n              error = false;\n              getCats();\n            }\n            timerInterval = setInterval(() => {}, 2000);\n          },\n          willClose: () => {\n            clearInterval(timerInterval);\n          }\n        }).then(result => {\n          if (result.dismiss === Swal.DismissReason.timer) {\n            showModal();\n          }\n        });\n      } else {\n        Swal.fire('Especie no elegida', 'Por favor elegir la especie', 'warning');\n        //error = true\n        //mensaje = 'Por favor elegir la especie'\n      }\n    };\n\n    const savePet = () => {\n      if (nombre === undefined || descripcion === undefined || genero === undefined || edad === undefined || especie === undefined || color === undefined) {\n        Swal.fire('Campos incompletos', 'Debes llenar todos los campos ', 'warning');\n      } else {\n        //\n        Swal.fire({\n          title: '¿Está seguro?',\n          text: \"Revisa y confirma que los campos estén cons los datos correctos\",\n          icon: 'warning',\n          showCancelButton: true,\n          confirmButtonColor: '#3085d6',\n          cancelButtonColor: '#d33',\n          confirmButtonText: 'Si, estoy seguro'\n        }).then(result => {\n          if (result.isConfirmed) {\n            //\n            //\n            console.log(\"foto: \", foto.value);\n            clear();\n            //console.log(\"vue: \",nombre,descripcion,raza,especie,color,genero,foto,edad, false)\n            addPet(nombre, descripcion, raza, especie, color, genero, foto.value, edad);\n            Swal.fire('Almacenado', 'registro almacenado exitosamente', 'success');\n          }\n        });\n        clear();\n\n        //\n      }\n    };\n\n    const clear = () => {\n      console.log(\"clear\");\n      nombre = undefined;\n      raza = undefined;\n      color = undefined;\n      especie = undefined;\n      edad = undefined;\n      genero = undefined;\n      descripcion = undefined;\n      foto.value = undefined;\n    };\n    const __returned__ = {\n      usePetApi,\n      get addPet() {\n        return addPet;\n      },\n      set addPet(v) {\n        addPet = v;\n      },\n      useApp,\n      get showModal() {\n        return showModal;\n      },\n      set showModal(v) {\n        showModal = v;\n      },\n      get getDogs() {\n        return getDogs;\n      },\n      set getDogs(v) {\n        getDogs = v;\n      },\n      get getCats() {\n        return getCats;\n      },\n      set getCats(v) {\n        getCats = v;\n      },\n      get modal() {\n        return modal;\n      },\n      set modal(v) {\n        modal = v;\n      },\n      get foto() {\n        return foto;\n      },\n      set foto(v) {\n        foto = v;\n      },\n      get fotos() {\n        return fotos;\n      },\n      set fotos(v) {\n        fotos = v;\n      },\n      get mensaje() {\n        return mensaje;\n      },\n      set mensaje(v) {\n        mensaje = v;\n      },\n      get error() {\n        return error;\n      },\n      set error(v) {\n        error = v;\n      },\n      get nombre() {\n        return nombre;\n      },\n      set nombre(v) {\n        nombre = v;\n      },\n      get raza() {\n        return raza;\n      },\n      set raza(v) {\n        raza = v;\n      },\n      get color() {\n        return color;\n      },\n      set color(v) {\n        color = v;\n      },\n      get especie() {\n        return especie;\n      },\n      set especie(v) {\n        especie = v;\n      },\n      get edad() {\n        return edad;\n      },\n      set edad(v) {\n        edad = v;\n      },\n      get genero() {\n        return genero;\n      },\n      set genero(v) {\n        genero = v;\n      },\n      get descripcion() {\n        return descripcion;\n      },\n      set descripcion(v) {\n        descripcion = v;\n      },\n      openModal,\n      savePet,\n      clear,\n      get Swal() {\n        return Swal;\n      },\n      ModalFotos,\n      get useAppstore() {\n        return useAppstore;\n      },\n      get usePetApistore() {\n        return usePetApistore;\n      },\n      get storeToRefs() {\n        return storeToRefs;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["Swal","ModalFotos","useAppstore","usePetApistore","storeToRefs","usePetApi","addPet","useApp","showModal","getDogs","getCats","modal","foto","fotos","mensaje","error","nombre","undefined","raza","color","especie","edad","genero","descripcion","openModal","timerInterval","fire","title","html","timer","timerProgressBar","didOpen","showLoading","b","getHtmlContainer","querySelector","setInterval","willClose","clearInterval","then","result","dismiss","DismissReason","savePet","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","isConfirmed","console","log","value","clear"],"sources":["C:/Users/Andersson/Desktop/semillero/mascotas2/frontend/mascotas/src/views/AdopcionView.vue"],"sourcesContent":["<template>\r\n  <div class=\"row d-flex justify-content-center\">\r\n      <div class=\"col-xl-7 col-lg-8 col-md-9 col-11 text-center\">\r\n          \r\n          <div class=\"card\">\r\n                <h5 class=\"text-center mb-4\">Datos de la Mascota</h5>\r\n                <div class=\"form-card\">\r\n                    <div class=\"row justify-content-between text-left\">\r\n                        \r\n                    </div>\r\n                    <div class=\"row justify-content-between text-left\">\r\n                        <div class=\"form-group col-sm-6 flex-column d-flex\"> \r\n                            <label class=\"form-control-label px-3\">Nombre: </label> \r\n                            <input type=\"text\" v-model=\"nombre\" > \r\n                        </div>\r\n                        <div class=\"form-group col-sm-6 flex-column d-flex\">\r\n                            <label class=\"form-control-label px-3\">Especie:</label> \r\n                            <select class=\"form-control form-control-lg \" v-model=\"especie\"> \r\n                                <option value=\"perro\">Perro</option>\r\n                                <option value=\"gato\">Gato</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row justify-content-between text-left\">\r\n                            <div class=\"form-group col-sm-6 flex-column d-flex\"> \r\n                                <label class=\"form-control-label px-3\">Cargar Foto: </label> \r\n                                <button v-if=\"foto==undefined\" class=\"btn-block btn-primary\" @click=\"openModal()\">\r\n                                    cargar\r\n                                </button> \r\n                                <button  v-else class=\"btn-block btn-info\" @click=\"openModal()\">\r\n                                    cambiar\r\n                                </button> \r\n                            </div>\r\n                            <div class=\"form-group col-sm-6 flex-column d-flex\"> \r\n                                <label class=\"form-control-label px-3\">Raza:</label> \r\n                                <input type=\"text\" v-model=\"raza\"> \r\n                            </div>\r\n                    </div>\r\n                    <div class=\"row justify-content-between text-left\">\r\n                        <div class=\"form-group col-sm-6 flex-column d-flex\"> \r\n                            <label class=\"form-control-label px-3\">Color:</label>\r\n                            <input type=\"text\" v-model=\"color\"  > \r\n                        </div>\r\n                        <div class=\"form-group col-sm-6 flex-column d-flex\"> \r\n                            <label class=\"form-control-label px-3\">Edad: </label>\r\n                                <input type=\"number\" v-model=\"edad\" > \r\n                        </div>\r\n                        <div class=\"form-group col-sm-6 flex-column d-flex\"> \r\n                            <label class=\"form-control-label px-3\">Género: </label>\r\n                            <select class=\"form-control form-control-lg \" v-model=\"genero\"> \r\n                                <option value=\"macho\">Macho</option>\r\n                                <option value=\"hembra\">Hembra</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row justify-content-between text-left\">\r\n                        <div class=\"form-group col-12 flex-column d-flex\"> \r\n                            <label class=\"form-control-label px-3\">Descripción:</label> \r\n                            <input type=\"text\" v-model=\"descripcion\"> \r\n                        </div>\r\n                    </div>\r\n                    <div v-if=\"error\" class=\"form-outline mb-2 text-danger\">\r\n                        <label class=\"form-label \"> \r\n                            <i class=\"fa-solid fa-circle-exclamation\"></i>{{mensaje}}\r\n                        </label>\r\n                        <hr class=\"my-0\">  \r\n                    </div> \r\n                    <div class=\"row justify-content-end\">\r\n                        <div class=\"form-group col-sm-3\"> \r\n                            <button  class=\"btn-block btn-primary\" @click=\"savePet()\">\r\n                                Guardar\r\n                            </button> \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div v-if=\"modal\">\r\n            <ModalFotos tipo=\"asd\" :fotos=\"fotos\"/>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\n    import Swal from 'sweetalert2'\r\n    import ModalFotos from '@/components/ModalFotos.vue';\r\n    import {useAppstore} from '@/store/index.js'\r\n    import {usePetApistore} from '@/store/petsApi.js'\r\n    import { storeToRefs } from 'pinia';\r\n\r\n    const usePetApi = usePetApistore()\r\n    let {addPet}= usePetApi\r\n\r\n    const useApp = useAppstore()\r\n    let {showModal, getDogs, getCats} = useApp\r\n    let {modal, foto, fotos} = storeToRefs(useApp)\r\n\r\n    \r\n    let mensaje=\"mensaje error\"\r\n    let error= false\r\n    //datos de la mascota \r\n    let nombre= undefined\r\n    let raza= undefined\r\n    let color= undefined\r\n    let especie= undefined\r\n    let edad= undefined\r\n    let genero= undefined\r\n    let descripcion= undefined \r\n    \r\n    \r\n    \r\n    const openModal = () =>{ \r\n        let timerInterval \r\n        if(especie != null){\r\n            Swal.fire({\r\n                title: 'Accediendo a las fotos',\r\n                html: 'Cargando <b></b> fotos',\r\n                timer: 2000,\r\n                timerProgressBar: true,\r\n                didOpen: () => {\r\n                    Swal.showLoading()\r\n                    const b = Swal.getHtmlContainer().querySelector('b')\r\n                    if(especie === 'perro'){ \r\n                        error = false \r\n                        getDogs()  \r\n                    }else if(especie === 'gato'){ \r\n                        error = false  \r\n                        getCats()\r\n                    }\r\n                    timerInterval = setInterval(() => {\r\n                        \r\n                    },  2000 )\r\n                },\r\n                willClose: () => {\r\n                    clearInterval(timerInterval)\r\n                }\r\n                }).then((result) => {\r\n                    \r\n                if (result.dismiss === Swal.DismissReason.timer) {\r\n                    showModal()\r\n                }\r\n            })\r\n\r\n        } else{\r\n            Swal.fire(\r\n            'Especie no elegida',\r\n            'Por favor elegir la especie',\r\n            'warning'\r\n            )\r\n            //error = true\r\n            //mensaje = 'Por favor elegir la especie'\r\n        }\r\n    }\r\n\r\n    const savePet = () =>{\r\n        \r\n        if(nombre === undefined   ||  descripcion === undefined || genero === undefined || edad === undefined || especie === undefined || color === undefined ){\r\n            Swal.fire(\r\n            'Campos incompletos',\r\n            'Debes llenar todos los campos ',\r\n            'warning'\r\n            )\r\n        }else{\r\n            //\r\n            Swal.fire({\r\n                title: '¿Está seguro?',\r\n                text: \"Revisa y confirma que los campos estén cons los datos correctos\",\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#3085d6',\r\n                cancelButtonColor: '#d33',\r\n                confirmButtonText: 'Si, estoy seguro'\r\n                }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                    //\r\n                    //\r\n                    console.log(\"foto: \",foto.value)\r\n                    clear()\r\n                    //console.log(\"vue: \",nombre,descripcion,raza,especie,color,genero,foto,edad, false)\r\n                    addPet(nombre,descripcion,raza,especie,color,genero,foto.value,edad) \r\n                    Swal.fire(\r\n                    'Almacenado',\r\n                    'registro almacenado exitosamente',\r\n                    'success'\r\n                    )\r\n                }\r\n            })\r\n            clear()\r\n\r\n            //\r\n        }\r\n    }\r\n\r\n    const clear = () =>{\r\n        console.log(\"clear\")\r\n        nombre = undefined\r\n        raza = undefined\r\n        color = undefined\r\n        especie = undefined\r\n        edad = undefined\r\n        genero =undefined\r\n        descripcion = undefined\r\n        foto.value = undefined\r\n    }\r\n       \r\n</script>\r\n\r\n<style scoped>\r\nbody{\r\n    color: #000;\r\n    overflow-x: hidden;\r\n    height: 100%; \r\n    background-repeat: no-repeat;\r\n    background-size: 100% 100%;\r\n}\r\n.card{\r\n    padding: 30px 40px;\r\n    margin-top: 60px;\r\n    margin-bottom: 60px;\r\n    border: none !important;\r\n    box-shadow: 0 6px 12px 0 rgba(0,0,0,0.2)\r\n}\r\n\r\n.blue-text{\r\n    color: #00BCD4\r\n}\r\n\r\n.form-control-label{\r\n    margin-bottom: 0\r\n}\r\n\r\ninput, textarea, button{\r\n    padding: 8px 15px;\r\n    border-radius: 5px !important;\r\n    margin: 5px 0px;\r\n    box-sizing: border-box;\r\n    border: 1px solid #ccc;\r\n    font-size: 18px !important;\r\n    font-weight: 300\r\n}\r\n\r\ninput:focus, textarea:focus{\r\n    -moz-box-shadow: none !important;\r\n    -webkit-box-shadow: none !important;\r\n    box-shadow: none !important;\r\n    border: 1px solid #00BCD4;\r\n    outline-width: 0;\r\n    font-weight: 400\r\n}\r\n\r\n\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}